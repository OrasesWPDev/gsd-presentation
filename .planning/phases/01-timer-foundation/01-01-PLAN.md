---
phase: 01-timer-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pomodoro-timer/index.html
autonomous: true

must_haves:
  truths:
    - "User sees centered timer display showing 25:00 in large readable format"
    - "User sees mode buttons (Pomodoro, Short Break) in the interface"
    - "User sees start/stop button in the interface"
    - "Display updates when state.remainingSeconds changes"
  artifacts:
    - path: "pomodoro-timer/index.html"
      provides: "Complete timer UI with state and display logic"
      contains: "const timer"
      min_lines: 80
  key_links:
    - from: "timer state object"
      to: "updateDisplay function"
      via: "reads timer.remainingSeconds"
      pattern: "timer\\.remainingSeconds"
    - from: "updateDisplay function"
      to: "DOM element"
      via: "sets textContent"
      pattern: "textContent.*formatTime"
---

<objective>
Create the Pomodoro timer foundation: a single HTML file with centered timer display, mode buttons, start/stop button, state management object, and working updateDisplay function.

Purpose: Establish the visual and structural foundation that Phase 2 will animate with countdown logic.
Output: `pomodoro-timer/index.html` - a static but functional timer UI that shows "25:00" and responds to state changes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-timer-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HTML structure with CSS styling</name>
  <files>pomodoro-timer/index.html</files>
  <action>
Create `pomodoro-timer/index.html` with:

**HTML Structure:**
- DOCTYPE, html lang="en", head with charset, viewport meta, title "Pomodoro Timer"
- Inline `<style>` section (not external CSS file)
- Body containing `.timer-container` div with:
  - `.mode-buttons` div with two buttons: id="btn-pomodoro" (text: "Pomodoro"), id="btn-short-break" (text: "Short Break")
  - `#timer-display` div with class="timer-display" (initial text: "25:00")
  - `.control-buttons` div with one button: id="btn-start-stop" (text: "Start")
- Empty `<script>` section at bottom of body (JavaScript added in Task 2)

**CSS Styling (in inline style block):**
- CSS custom properties in :root: --primary-color: #e74c3c, --bg-color: #2c3e50, --text-color: #ecf0f1
- Body: min-height 100vh, margin 0, flexbox centering (display: flex, justify-content: center, align-items: center), background uses --bg-color
- .timer-container: text-align center
- .timer-display: font-size 6rem, font-family 'Courier New', monospace (prevents layout shift), color uses --text-color
- .mode-buttons and .control-buttons: margin for spacing
- Button styling: padding, font-size, cursor pointer, border-radius
- .mode-btn.active: distinct style to show active mode (e.g., background --primary-color)

**Why these choices (from research):**
- Single file: eliminates build complexity, entire codebase visible at once
- Inline CSS: faster for demos, no file management
- Monospace font: prevents layout shift when digits change
- CSS custom properties: enables easy theming
- Flexbox centering: bulletproof, modern pattern
  </action>
  <verify>
File exists at pomodoro-timer/index.html. Opening in browser shows:
- Centered timer display with "25:00" in large monospace font
- Two mode buttons above the timer
- One start/stop button below the timer
- Dark background with light text (the color scheme)
  </verify>
  <done>
Static HTML page displays timer UI with proper styling. No JavaScript functionality yet.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add JavaScript state management and updateDisplay</name>
  <files>pomodoro-timer/index.html</files>
  <action>
Add JavaScript inside the existing `<script>` section:

**State Object (plain object, not class):**
```javascript
const timer = {
    // Configuration (minutes)
    durations: {
        pomodoro: 25,
        shortBreak: 5
    },
    // Runtime state
    currentMode: 'pomodoro',
    remainingSeconds: 25 * 60,
    // Phase 2 will use these (include as placeholders)
    isRunning: false,
    intervalId: null
};
```

**DOM Reference Caching (at module scope, not inside functions):**
```javascript
const displayElement = document.getElementById('timer-display');
```

**Format Time Function:**
```javascript
function formatTime(totalSeconds) {
    const minutes = Math.floor(totalSeconds / 60);
    const seconds = totalSeconds % 60;
    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}
```

**Update Display Function:**
```javascript
function updateDisplay() {
    displayElement.textContent = formatTime(timer.remainingSeconds);
}
```

**Initial Call (at end of script):**
```javascript
// Sync display with state on page load
updateDisplay();
```

**Why these choices (from research):**
- Plain object state: simpler than class, no `this` context issues
- Include isRunning/intervalId: Phase 2 needs these, prevents "where do I store this?" problem
- Cache DOM reference: avoids repeated querySelector calls (critical when Phase 2 adds 1-second updates)
- Call updateDisplay() on load: ensures display matches state (avoids hardcoded HTML diverging from state)
- padStart(2, '0'): MDN-verified pattern for zero-padding
  </action>
  <verify>
1. Open browser dev console on pomodoro-timer/index.html
2. Type `timer` - should show the state object with durations, currentMode, remainingSeconds (1500), isRunning (false), intervalId (null)
3. Type `timer.remainingSeconds = 125` then `updateDisplay()` - display should change to "02:05"
4. Type `timer.remainingSeconds = 9` then `updateDisplay()` - display should change to "00:09" (zero-padded)
5. Refresh page - display should reset to "25:00"
  </verify>
  <done>
State object exists with all required fields. updateDisplay() correctly formats and displays time from state. Manual state changes reflect in the display.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `pomodoro-timer/index.html` exists and is a valid HTML file
2. Opening in browser shows centered "25:00" display
3. Mode buttons (Pomodoro, Short Break) are visible
4. Start/stop button is visible
5. Console shows `timer` object with correct structure
6. Manual `updateDisplay()` calls update the display correctly
7. Zero-padding works for all edge cases (single-digit minutes and seconds)
</verification>

<success_criteria>
- TIMER-03 requirement met: MM:SS display format with zero-padding
- All 5 phase success criteria satisfied:
  1. Centered timer display showing "25:00" in large readable format
  2. Mode buttons visible (Pomodoro, Short Break)
  3. Start/stop button visible
  4. State object holds timer configuration
  5. updateDisplay() function syncs display with state
</success_criteria>

<output>
After completion, create `.planning/phases/01-timer-foundation/01-01-SUMMARY.md`
</output>
